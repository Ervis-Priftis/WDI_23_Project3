  <div>
    <img ng-src="{{challengesShow.challenge.image}}">

    <!-- The challenge: {{ challengesShow.challenge }} -->

      <p>{{ challengesShow.challenge.startDate }} - {{ challengesShow.challenge.finishDate }}</p>
      <h2>{{ challengesShow.challenge.name }}</h2>
      <p>{{ challengesShow.challenge.description }}</p>
      <p>Created by <a ui-sref="usersShow({ id: challengesShow.challenge.participants[0]._id })">{{ challengesShow.challenge.participants[0].username }}</a></p>

      <google-map challenge="challengesShow.challenge"></google-map>

      <!-- <button ng-click="challengesShow.incrementLikes(challengesShow.challenge.like)">Likes: {{ challengesShow.challenge.like }} </button> -->

      <!-- {{ challengesShow.challenge.participants[0].profilePhoto }} -->

      <h2>Active Participants</h2>

      <img ng-repeat="participant in challengesShow.challenge.participants" class="profileImage" ng-src="{{participant.profilePhoto}}">




      <div ng-show='challengesShow.popUpActive' class="mainPopUp">
        <a ng-click="challengesShow.togglePopUp()">X</a>
        <div class="inner">
          Can you confirm you want to {{ challengesShow.challenge.name }}?
          <button ng-click="challengesShow.participate(); challengesShow.togglePopUp()">Yes</button>
          <button ng-click="challengesShow.togglePopUp()">No</button>
        </div>
      </div>

      <button ng-click="challengesShow.incrementLikes()">Likes: {{ challengesShow.challenge.like.length }} </button>

      <p>
        This challenge currently has {{ challengesShow.challenge.participants.length }} challengers
      </p>

      <button ng-click="challengesShow.togglePopUp()" ng-hide="challengesShow.isSubscribed()">Subscribe</button>

      <button ng-click="challengesShow.Unparticipate()" ng-hide="!challengesShow.isSubscribed()">Unsubscribe</button>

      <!-- {{challengesShow.challenge.comments}} -->

      <form ng-submit="challengesShow.addComment()" ng-hide="!profile.isLoggedIn()">
        <textarea placeholder='Comments' ng-model="challengesShow.comment"></textarea>
        <button ng-hide="!profile.isLoggedIn()">Submit Comment</button>
      </form>

      <div class="commentList">
        <h2>Comments</h2>
        <ul ng-repeat="challenge in challengesShow.challenge.comments">
          <li>{{challenge}}</li>
        </ul>
      </div>
<!-- 
      {{ challengesShow.payload._id }}
      {{ challengesShow.challenge.projectCreator }} -->

      <button ui-sref="challengesEdit({ id: challengesShow.challenge._id })" ng-if="challengesShow.challenge.projectCreator[0] == challengesShow.payload._id">Edit Challenge</button>

      <button ng-click="challengesShow.deleteChallenge()" ng-if="challengesShow.challenge.projectCreator[0] == challengesShow.payload._id">Delete Challenge</button>
  </div>
